<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" lang="ru">
    <title>detail admin</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link rel="icon" href="/image/3detail_icon.ico" sizes="any" type="image/x-icon"/>
    <script src="/js/bootstrap.bundle.min.js" ></script>

</head>
<body>
<header>
    <div class="container">
        <div class="row">
            <div class="col-4" >
                <!--картинка группы  @{'/image_group/' + ${fileName}}   "@{'/image_group/new.jpg'}" -->
                <img src="/image/main_logo.png"  style="max-height: 80px;">
            </div>
            <div class="col-8">
                <h3 class="text-center text-white"> 3detail администратор </h3>
<!--                <h4 class="text-center text-white"> администратор </h4>-->
            </div>
        </div>
    </div>
</header>

<div class="container">
    <div class="row">
        <div class="col-12">
            <p></p>
            <h3>Главная страница администратора</h3>
            <p></p>
            <P></P>
<!--Вывод сообщения об ошибке-->
            <h4>   <a id="error" th:text="${errorMessage}" > </a>   </h4>

            <table class="table table-bordered">
                <thead>
                <tr class="table-warning table align-middle">

                    <th>
                        <h6> 1.....</h6>
                    </th>
                    <th>
                        <h6> 2.....</h6>
                    </th>
                    <th>
                        <h6> 3.....</h6>
                    </th>
                    <th>
                        <h6> 4.....</h6>
                    </th>
                    <th>
                        <h6> 5.....</h6>

                    </th>
                    <th></th>

                </tr>
                </thead>
                <tbody></tbody>

            </table>
            <p></p>

            <div>
                <p></p>
                <div class="btn-group" role="group" > <!--ссылки в один ряд-->
                    <!--                <a th:href="'/index'" class="text-black text-decoration-none" style="margin-right: 20px;" th:text="'На главную'"></a>-->
                    <a th:href="'/product_admin/add_new'" class="text-black text-decoration-none" style="margin-right: 30px; font-weight: bold;" th:text="'Добавить продукт'"></a>
                    <a th:href="'/product/all'" class="text-black text-decoration-none" style="margin-right: 30px; font-weight: bold;" th:text="'Все продукты'"></a>
                    <a th:href="'/index_admin/counter_page'" class="text-black text-decoration-none" style="margin-right: 30px; font-weight: bold;" th:text="'Посещения'"></a>
                    <a th:href="'/'"class="btn btn-outline-secondary text-black text-decoration-none"
                       style="margin-right: 20px; font-weight: bold;" th:text="'3detail.ru'"></a>

                    </div>
                </div>
                <p></p>
            </div>
           </div>

    <!--контейнер пользователи-->
    <div id="123" class="col-md-12 border p-4 rounded shadow-lg bg-body-secondary">
        <h6 class="text-center mb-4">  <a th:text="'Пользователи ( = ' + ${users.size} + ')'"> </a></h6>

        <table class="table table-bordered">
            <thead>

            <tr class="table-warning table align-middle">

                <th><h6>№</h6></th>
                <th>
                    <h6> Логин </h6>
                </th>
                <th>
                    <h6> mail </h6>
                </th>
                <th>
                    <h6> Comand </h6>
                </th>
                <th>
                    <h6> comment</h6>
                </th>
                <th>
                    <h6> дата</h6>
                </th>

            </tr>

            <tr th:each = "user, iterStat: ${users}">
                <td><h10><span th:text="${iterStat.count}"></span></h10></td>

                <th>  <a th:href="'/index_admin/user/' + ${user.getId}"
                         class="text-black text-decoration-none"
                         style="margin-right: 30px; font-weight: bold;" th:text="${user.getLogin}"></a>
                </th>
                <!--                            <th><h10 >   <a th:text="${user.getLogin}"> </a>  </h10> </th>-->
                <th><h10 >   <a th:text="${user.getMail}"> </a> </h10> </th>

                <th>
                    <!--   Кнопка удалить группу -->

                        <!-- Кнопка модального окна на удаление пользователя -->
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                            <button  class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;"
                                     data-bs-toggle="modal" th:data-bs-target="'#'+ 'modal_' + ${user.getId}">
                                Удалить
                            </button>
                        </div>
                    <!-- Модальное окно удалить пользователя -->
                    <div class="modal fade" th:id="'modal_' + ${user.getId}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5">
                                        <a> Удалить пользователя <br/>
                                            <span th:text="${user.getLogin} + ' ???'"></span>
                                        </a>
                                    </h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Отмена"></button>
                                </div>

                                <div class="modal-footer">
                                    <form method="get" th:action = "'/index_admin/del_user/' + ${user.getId}">
                                        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                            <button class="btn btn-dark btn-sm mb-2"
                                                    type="submit"
                                                    style="height: 25px; width: 80px; font-size: 12px;">Удалить</button> <!--Удалить-->
                                        </div>
                                        <!--                                        скрытое поле -->
                                        <!-- newHiddenInput_del.value = gr.groupId;                  // Значение поля
                            newHiddenInput_del.name = "group_del_group" + gr.groupId;-->
                                    </form>
                                    <button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;" data-bs-dismiss="modal">Отмена</button>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!--   ---------------------->
                </th>

                <th><h10 > <a th:text="${user.getComment}"></a>   </h10> </th>
                <th><h10 >   <a th:text="${user.getDataCreateUser}"> </a> </h10> </th>
            </tr>

            </thead>
            <tbody></tbody>

        </table>

    </div>
    <p></p>

    <!--контейнер с разделами-->
            <div class="col-md-12 border p-4 rounded shadow-lg bg-body-secondary">
                <h6 class="text-center mb-1">Разделы</h6>
                <form method="post" action = "/index_admin/create_group/0"
                      id="create_group">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-dark" type="submit" id="apply_2">Добавить основной раздел</button>
                    </div>
                </form>

                <!--            создание Списка группп с отступами для подгрупп    -->
                    <table class="table table-bordered">
                        <thead>
                        <tr class="table-warning text-align-middle">
                            <th ></th>
                        </thead>
                        <tbody>
                            <tr th:each = "group: ${groups}"

                                th:classappend="${group.levelGroup > 0 ? 'table-secondary' : 'table-info'}">
                                  <th>
                                    <div class="row">
                                        <div class="col-1">
                                            <div>
                                                <a th:href="'/index_admin/group/' + ${group.getGroupId}" > <!--class="stretched-link" tabindex="-1"-->
                                                    <!--картинка группы  @{'/image_group/' + ${fileName}}   "@{'/image_group/new.jpg'}" -->
                                                    <img th:src="@{ '/image/' + ${group.getGroupId()}}" class="img-fluid mx-auto d-block" style="width: 100%; height: auto;">

                                                </a>
                                            </div>
                                        </div>


                                        <div class="col-4">
                                            <!--Добавление отступов для подгрупп-->
                                            <div style="display: flex; align-items: center; white-space: nowrap;">
                                                <div th:if="${group.getLevelGroup() > 0}">
                                             <span th:each="i : ${#numbers.sequence(0, group.getLevelGroup())}" style="/*margin-right: 10px;*/ display: inline-block;">
                                                <span style="display: inline-block; width: 30px; height: 10px;">
                                                </span>
                                             </span>
                                                </div>

                                                <!-- ИМЯ ГРУППЫ -->
                                                <div>
                                                    <div>
                                                        <input class="form-control"  th:value="${group.getGroupName()}"
                                                               th:id="'group_name_' + ${group.getGroupId}"
                                                               type="text" name="testName" size="50"/>
                                                    </div>

                                                    <div th:if="${group.getLevelGroup() == 0}">
                                                        <h6> основной  </h6>
                                                    </div>
                                                    <div th:if="${group.getLevelGroup() > 0}">
                                                        <h6> подраздел </h6>
                                                    </div>
                                                </div>
                                            </div>
                                            </div>

                                        <!--Конец Добавление отступов для подгрупп-->

                                        <!--------------------------------------------   ---------------------->
                                        <!--   Кнопка удалить группу -->
                                        <div class="col-1">

                                            <!-- Кнопка модального окна на удаление -->
                                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                <button  class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;"
                                                        data-bs-toggle="modal" th:data-bs-target="'#'+ 'modal_' + ${group.getGroupId}">
                                                    Удалить
                                                </button>
                                            </div>
                                        </div>


                                        <!-- Модальное окно удалить группу -->
                                        <div class="modal fade" th:id="'modal_' + ${group.getGroupId}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h1 class="modal-title fs-5">
                                                            <a> Удалить раздел <br/>
                                                                <span th:text="${group.getGroupName()} + ' ???'"></span>
                                                            </a>
                                                        </h1>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Отмена"></button>
                                                    </div>

                                                    <div class="modal-footer">
                                                        <form method="post" th:action = "'/index_admin/del_group/' + ${group.getGroupId}"
                                                              th:id="'del_group_' + ${group.getGroupId}">

                                                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">

                                                                <button class="btn btn-dark btn-sm mb-2"
                                                                        type="submit"
                                                                        style="height: 25px; width: 80px; font-size: 12px;">Удалить</button> <!--Удалить-->
                                                            </div>
                                                            <!--                                        скрытое поле -->
                                                            <!-- newHiddenInput_del.value = gr.groupId;                  // Значение поля
                                                newHiddenInput_del.name = "group_del_group" + gr.groupId;-->
                                                        </form>
                                                        <button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;" data-bs-dismiss="modal">Отмена</button>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--   ---------------------->


                                        <!--Кнопка сохранить группу -->
                                        <div class="col-1">
                                            <form method="post" th:action = "'/index_admin/save_group/' + ${group.getGroupId}"
                                                  th:id="'save_group_' + ${group.getGroupId}">
                                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                    <button class="btn btn-dark btn-sm mb-2" type="submit"
                                                            style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>

                                                    <!--                                     внутри формы
                                                                                 newHiddenInput_save.value = gr.groupName;                  // Значение поля имя
                                                                                newHiddenInput_save.name = "group_save_" + gr.groupId;       // Имя параметра на сохранение группы-->

                                                </div>
                                                <input type="hidden" name="parrent_group_Id" th:value="${group.getParrentId}"/>
                                            </form>
                                        </div>

                                        <!--Кнопка создать группу -->
                                        <div class="col-1">
                                            <form method="post" th:action = "'/index_admin/create_group/' + ${group.getGroupId}"
                                                  th:id="'create_group_' + ${group.getGroupId}">
                                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                    <button class="btn btn-dark btn-sm" type="submit"
                                                            style="height: 50px; width: 135px; font-size: 12px;">Добавить подраздел </button>
                                                </div>
                                                <!--                                        скрытое поле для формы-->
                                                <!--                                        newHiddenInput_create.value = gr.groupId;                  // Значение поля имя
                                                                                            newHiddenInput_create.name = "create_group_" + gr.groupId;       // Имя параметра на создание г-->
                                            </form>
                                            <p></p>
                                        </div>

                                        <!--Кнопка переместить в другую группу -->
                                        <div class="col-2">
                                            <form method="post" action="/index_admin/change_parrent_group" th:object="${group}">
                                                <input type="hidden" name="id_group" th:value="${group.getGroupId()}"/>

                                                <div class="row align-items-center">
                                                    <div class="col-auto">
                                                        <button class="btn btn-dark btn-sm" type="submit"
                                                                style="font-size: 12px;">Переместить в</button>
                                                    </div>
                                                    <div class="col-auto">
                                                        <select id="parrent_group" name="parrent_group_Id" class="form-select form-select-sm" style="width: auto; height: 28px; font-size: 12px;">
                                                            <option th:each="parrent : ${parentGroup}"
                                                                    th:value="${parrent.getGroupId()}"
                                                                    th:text="${parrent.getGroupName()}"></option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>

                                        <!--Кнопка загрузить изображение -->
                                        <div class="col-2">
                                            <form method="post" enctype="multipart/form-data"
                                                  th:action="@{'/upload_image_group/' + ${group.getGroupId()}}"
                                                  th:object="${image}">   <!--связывает форму с объектом image-->
                                                <input type="file" name="file" accept="image/*" required/>  <!--допустимые файлы image-->
                                                <button type="submit">Загрузить</button>
                                            </form>
                                        </div>
                                    </div>
                                </th>
                            </tr>
                            <p></p>

                        </tbody>
                    </table>

<!--                вложенность-->
                <div th:each = "group: ${groups}" id="loop" >
                    <input   th:value="${group.getGroupName()} + '  вложенность: ' + ${group.getLevelGroup} "
                            type="text" name="testName" size="50"/>
                </div>

                <h4 >   <a th:text="'Количество разделов = ' + ${groups.size()}" > </a>   </h4>
                <p></p>
            </div>

    <!--контейнер 1 со списком продуктов-->
             <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-10 border p-4 rounded shadow-lg bg-body-secondary">

                <h6 class="text-center mb-4">Продукты</h6>
                <p></p>
                <form method="get" th:action = "'/product_admin/add_new'">
                    <input type="hidden"  name="id_group"  th:value="0">
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-dark" type="submit" >Добавить продукт</button>

                    </div>
                    <!--                    <input type="hidden" name="id_group" th:value="${group.getGroupId()}"/>-->
                </form>
                <p></p>

                <div class="row">
                    <table class="table table-bordered">
                        <thead>
                        <tr class="table-warning text-align-middle">
                            <th scope="col">Картинка</th>
                            <th scope="col">Цена</th>
                            <th scope="col">Наименование</th>
                            <th scope="col">Действия</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="product: ${products}" class="align-middle">
                            <td>
                                <a th:href="'/product_admin/' + ${product.getProductId()}">
                                    <img th:src="@{'/image/product/'+ ${product.getProductId()} + '/1'}" class="img-fluid mx-auto d-block" style="max-width: 150px; max-height: 150px; object-fit: contain;">
                                </a>
                            </td>
                            <td>
                                <div class="form-group">
                                    <label th:for="'coast_product' + ${product.getProductId()}" class="form-label">Цена:</label>
                                    <input class="form-control"
                                           th:value="${product.getProductCoast()}" type="text" size="12" th:id="'coast_product' + ${product.getProductId()}" />
                                </div>
                            </td>
                            <td>
                                <div class="form-group">
                                    <label th:for="'product_name_' + ${product.getProductId()}" class="form-label">Наименование:</label>
                                    <input class="form-control"
                                           th:value="${product.getProduct_name()}" type="text" size="50"
                                           th:id="'product_name_' + ${product.getProductId()}" />
                                </div>
                            </td>
                            <td>

                                <form method="post" th:action="'/index_admin/save_product/' + ${product.getProductId()}"
                                      th:id="'save_product_' + ${product.getProductId()}">
                                    <input type="hidden"  name="page"  value="index_admin">
                                    <input type="hidden"  name="id_group"  >
                                    <button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                                </form>



                                <!-- Кнопка модального окна на удаление -->
                                <button button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;"
                                        data-bs-toggle="modal" th:data-bs-target="'#'+ 'modal_' + ${product.getProductId()}">
                                    Удалить
                                </button>

                                <!-- Модальное окно -->
                                <div class="modal fade" th:id="'modal_' + ${product.getProductId()}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h1 class="modal-title fs-5" > Удалить продукт ???</h1>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Отмена"></button>
                                            </div>
                                            <!--                                            <div class="modal-body">-->
                                            <!--                                                ...-->
                                            <!--                                            </div>-->
                                            <div class="modal-footer">
                                                <form method="post" th:action="'/index_admin/del_product/' + ${product.getProductId()}"
                                                      th:id="'del_product_' + ${product.getProductId()}">
                                                    <!--                                    <input type="hidden"  name="page"  value="index_admin_group">-->
                                                    <button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;">Удалить</button>
                                                </form>
                                                <button class="btn btn-dark btn-sm mb-2" type="submit" style="height: 25px; width: 80px; font-size: 12px;" data-bs-dismiss="modal">Отмена</button>
                                                <!--                                                <button type="button" class="btn btn-primary">Удалить</button>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--                   --------------------------------------------         -->

                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <p></p>
    <!--строка с описанием инфо-->
<div class="row">
    <div>
        <table class="table table-bordered">
            <thead>
            <tr class="table-warning table align-middle">
                <th>
                    <!--контейнер 4  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="2">
                               <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_2" class="mb-2">Текст сверху слева (главная страница) </label>
                                <textarea class="form-control"
                                          th:text="${mapInfo[2].info}"
                                          id="info_2" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                        </div>
                    </form>
                    <p></p>
                </th>
                <th>
                    <!--контейнер 3  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="1">


                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_1" class="mb-2">Текст сверху справа (главная страница) </label>
                                <textarea class="form-control"

                                          th:text="${mapInfo[1].info}"
                                          id="info_1" rows="3" name="info">
                    </textarea>
                            </div>


                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>

                    </form>
                    <p></p>
                </th>
            </tr>
            <tr class="table-warning table align-middle">
                <th>
                    <!--контейнер 5  тексты-->
                            <form method="post" th:action = "'/saveInfo'">
                                <input type="hidden"  name="infoId"  value="3">


                                    <!-- Описание -->
                                    <div class="d-flex flex-column mb-3">
                                        <label for="info_3" class="mb-2">Текст внизу слева (главная страница) </label>
                                        <textarea class="form-control"

                                                  th:text="${mapInfo[3].info}"
                                                  id="info_3" rows="3" name="info">
                    </textarea>
                                    </div>


                                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                        <button class="btn btn-dark btn-sm mb-2" type="submit"
                                                style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                                    </div>

                            </form>
                    <p></p>
                </th>
                <th>
                    <!--контейнер 6  тексты-->
                            <form method="post" th:action = "'/saveInfo'">
                                <input type="hidden"  name="infoId"  value="4">

                                    <!-- Описание -->
                                    <div class="d-flex flex-column mb-3">
                                        <label for="info_4" class="mb-2">Текст внизу справа (главная страница) </label>
                                        <textarea class="form-control"

                                                  th:text="${mapInfo[4].info}"
                                                  id="info_4" rows="3" name="info">
                    </textarea>
                                    </div>

                                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                        <button class="btn btn-dark btn-sm mb-2" type="submit"
                                                style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                                    </div>
                            </form>
                    <p></p>
                </th>
            </tr>
            <tr class="table-info">
                <th></th>
                <th></th>
            </tr>
            <tr class="table-warning table align-middle">

                <th>
                    <!--контейнер   тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="5">


                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_5" class="mb-2">Текст сверху слева (прочие страницы) </label>
                                <textarea class="form-control"
                                          th:text="${mapInfo[5].info}"
                                          id="info_5" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
                <th>
                    <!--контейнер 3  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="6">
                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_6" class="mb-2">Текст сверху справа (прочие страницы) </label>
                                <textarea class="form-control"
                                          th:text="${mapInfo[6].info}"
                                          id="info_6" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
            </tr>
            <tr class="table-warning table align-middle">
                <th>
                    <!--контейнер 5  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="7">
                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_7" class="mb-2">Текст внизу слева (прочие страницы) </label>
                                <textarea class="form-control"

                                          th:text="${mapInfo[7].info}"
                                          id="info_7" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
                <th>
                    <!--контейнер 6  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="8">
                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_4" class="mb-2">Текст внизу справа (прочие страницы) </label>
                                <textarea class="form-control"

                                          th:text="${mapInfo[8].info}"
                                          id="info_8" rows="3" name="info">
                                 </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
            </tr>
            <tr class="table-info">
                <th></th>
                <th></th>
            </tr>
            <tr class="table-warning table align-middle">
                <th>
                    <!--контейнер 5  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="9">
                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_9" class="mb-2">Описание главных страниц(не продуктов) <br>
                                    для отображения в поисковике </label>
                                <textarea class="form-control"

                                          th:text="${mapInfo[9].info}"
                                          id="info_9" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
                <th>
                    <!--контейнер 6  тексты-->
                    <form method="post" th:action = "'/saveInfo'">
                        <input type="hidden"  name="infoId"  value="10">
                            <!-- Описание -->
                            <div class="d-flex flex-column mb-3">
                                <label for="info_10" class="mb-2">Теги для поисковика (набор ключевых слов) </label>
                                <textarea class="form-control"

                                          th:text="${mapInfo[10].info}"
                                          id="info_10" rows="3" name="info">
                    </textarea>
                            </div>
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button class="btn btn-dark btn-sm mb-2" type="submit"
                                        style="height: 25px; width: 80px; font-size: 12px;">Сохранить</button>
                            </div>
                    </form>
                    <p></p>
                </th>
            </tr>

            </thead>
            <tbody></tbody>

        </table>
        <p></p>
    </div>
</div>




</div>

<input type="hidden" id="point" th:value="${point}"/>

<!--установка текущего якоря-->
<script>
    const point = document.getElementById("point");
    // document.addEventListener('DOMContentLoaded', function () {
        // var anchor = "${anchor}";
        if(point) {
        //     if(document.getElementById("${anchor}")) {
                location.href += '#' + point.value;
             }
        // }
    // });
</script>

<script th:inline="javascript">
    const products = [[${products}]]; // получение коллекции products

    for (let prod of products){

        // скрытое поле для формы удалить продукт
        const newHiddenInput_del = document.createElement("input"); // Создание скрытого поля для кнопки удаления
        newHiddenInput_del.type = "hidden";                        // Устанавливаем тип поля как hidden
        newHiddenInput_del.id = "hidden_del_product" + prod.productId/*.toString()*/;          //  ID для каждого поля
        newHiddenInput_del.value = prod.productId;                  // Значение поля
        newHiddenInput_del.name = "del_product_" + prod.productId;       // имя параметра на удаление группы

        const del_form = document.getElementById("del_product_" + prod.productId);
        del_form.appendChild(newHiddenInput_del);// Добавление скрытого поля в форму удалить группу


        // скрытое поле для формы сохранить продукт
        const hiddenInput_name_save = document.createElement("input"); // Создаем скрытое поле для кнопки сохранить
        hiddenInput_name_save.type = "hidden";                        // Устанавливаем тип поля как hidden
        hiddenInput_name_save.id = "hidden_name_" + prod.productId;          //  ID для каждого поля
        hiddenInput_name_save.value = prod.product_name;                  // Значение поля имя
        hiddenInput_name_save.name = "product_name";       // Имя параметра на сохранение name группы

        const save_form = document.getElementById("save_product_" + prod.productId); //получение объекта форма сохранить группу
        save_form.appendChild(hiddenInput_name_save);// Добавление скрытого поля в форму кнопки сохранить группу


        // скрытое поле для формы сохранить продукт coast_product
        const hiddenInput_save_coast = document.createElement("input"); // Создаем скрытое поле для кнопки сохранить
        hiddenInput_save_coast.type = "hidden";                        // Устанавливаем тип поля как hidden
        hiddenInput_save_coast.id = "hidden_coast_" + prod.productId;          //  ID для каждого поля
        hiddenInput_save_coast.value = prod.productCoast;                  // Значение поля имя
        hiddenInput_save_coast.name = "coast_product";       // Имя параметра на сохранение name группы

        save_form.appendChild(hiddenInput_save_coast);// Добавление скрытого поля в форму кнопки сохранить группу


        const inputNameProduct = document.getElementById("product_name_" + prod.productId); //получение объекта имя группы для слушателя
        const inputCoastProduct = document.getElementById("coast_product" + prod.productId); //получение объекта имя группы для слушателя

        inputNameProduct.addEventListener("input", () => {
            copyValue(inputNameProduct, hiddenInput_name_save );
        }); // слушатель на изменение имени группы

        inputCoastProduct.addEventListener("input", () => {
            copyValue(inputCoastProduct, hiddenInput_save_coast );
        }); // слушатель на изменение имени группы

    }
    // обработчик слушателя на изменение поля имя группы
    function copyValue(param_1, param_2){
        const val = param_1.value; // получение значения value от класса который вызвал

        param_1.setAttribute("style", "background-color: yellow"); // установка нового цвета для поля

        param_2.setAttribute("value", val); // новое значение для скрытого поля при изменении поля имя
    }
</script>




<script th:inline="javascript">
    const groups = [[${groups}]]; // получение коллекции groups

    for (let gr of groups){


        // скрытое поле для формы удалить группу
        const newHiddenInput_del = document.createElement("input"); // Создаем скрытое поле для кнопки удаления
        newHiddenInput_del.type = "hidden";                        // Устанавливаем тип поля как hidden
        newHiddenInput_del.id = "hidden_del_group" + gr.groupId/*.toString()*/;          //  ID для каждого поля
        newHiddenInput_del.value = gr.groupId;                  // Значение поля
        newHiddenInput_del.name = "group_del_group" + gr.groupId;       // имя параметра на удаление группы

        const del_form = document.getElementById("del_group_" + gr.groupId);
        del_form.appendChild(newHiddenInput_del);// Добавление скрытого поля в форму удалить группу


        // скрытое поле для формы сохранить группу
        const newHiddenInput_save = document.createElement("input"); // Создаем скрытое поле для кнопки сохранить
        newHiddenInput_save.type = "hidden";                        // Устанавливаем тип поля как hidden
        newHiddenInput_save.id = "hidden_name_" + gr.groupId;          //  ID для каждого поля
        newHiddenInput_save.value = gr.groupName;                  // Значение поля имя
        newHiddenInput_save.name = "name_group";       // Имя параметра на сохранение name группы

        const save_form = document.getElementById("save_group_" + gr.groupId); //получение объекта форма сохранить группу
        save_form.appendChild(newHiddenInput_save);// Добавление скрытого поля в форму кнопки сохранить группу


        // скрытое поле для формы создать группу
        const newHiddenInput_create= document.createElement("input"); // Создаем скрытое поле для кнопки создать
        newHiddenInput_create.type = "hidden";                        // Устанавливаем тип поля как hidden
        newHiddenInput_create.id = "hidden_create_" + gr.groupId;          //  ID для каждого поля
        newHiddenInput_create.value = gr.groupId;                  // Значение поля имя
        newHiddenInput_create.name = "create_group_" + gr.groupId;       // Имя параметра на создание группы

        const create_form = document.getElementById("create_group_" + gr.groupId); //получение объекта форма создать группу
        create_form.appendChild(newHiddenInput_create);// Добавление скрытого поля в форму кнопки создать группу

        const inputNameGroupe = document.getElementById("group_name_" + gr.groupId); //получение объекта имя группы для слушателя

        inputNameGroupe.addEventListener("input", () => {
            copyValue(inputNameGroupe, newHiddenInput_save );
        }); // слушатель на изменение имени группы

    }
    // обработчик слушателя на изменение поля имя группы
    function copyValue(param_1, param_2){
        const val = param_1.value; // получение значения value от класса который вызвал

        param_1.setAttribute("style", "background-color: yellow"); // установка нового цвета для поля

        param_2.setAttribute("value", val); // новое значение для скрытого поля при изменении поля имя
    }
</script>

<style>
    label {
        font-size: 17px;
        font-weight: bold;
        text-align: left;
    }
</style>



</body>

</html>

